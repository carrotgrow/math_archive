/* ========== ê¸°ë³¸ ì„¸íŒ… ========== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* ì „ì²´ í†¤: ë”°ëœ»í•œ ì•„ì´ë³´ë¦¬ + ë‚®ì€ ì±„ë„ì˜ ë…¹ìƒ‰/ê°ˆìƒ‰ */
  --bg: #f5f0e8;              /* í˜ì´ì§€ ë°°ê²½ (ë°ì€ ì•„ì´ë³´ë¦¬) */
  --bg-elevated: #fdf8f0;     /* ì„¹ì…˜ ë°•ìŠ¤ ë°°ê²½ */
  --bg-card: #fbf4e7;         /* ì¹´ë“œ ë°°ê²½ */
  --accent-green: #6f8f74;    /* í¬ì¸íŠ¸ ì´ˆë¡ (ë‚®ì€ ì±„ë„) */
  --accent-brown: #a27a4a;    /* í¬ì¸íŠ¸ ê°ˆìƒ‰ (ë‚®ì€ ì±„ë„) */
  --accent-soft-green: #e2eee4;
  --accent-soft-brown: #efe2cf;
  --text-main: #3d3a33;       /* ë³¸ë¬¸ ê¸€ììƒ‰ (ì§™ì€ ê°ˆìƒ‰/íšŒìƒ‰) */
  --text-muted: #8a8577;      /* ì„¤ëª…ìš© íë¦° ê¸€ììƒ‰ */
  --border-subtle: #ddcfb9;   /* ì˜…ì€ ë² ì´ì§€ í…Œë‘ë¦¬ */
  --radius-xl: 1.5rem;
  --shadow-soft: 0 14px 40px rgba(171, 150, 120, 0.25);
}

html,
body {
  height: 100%;
}

body {
  font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
    system-ui, sans-serif;
  background: var(--bg);
  color: var(--text-main);
  line-height: 1.6;
}

/* ê³µí†µ ì»¨í…Œì´ë„ˆ */
.container {
  width: 100%;
  max-width: 1080px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

/* ========== í—¤ë” ========== */
.site-header {
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(12px);
  background: rgba(245, 240, 232, 0.92);
  border-bottom: 1px solid rgba(221, 207, 185, 0.9);
}

.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.9rem 0.5rem;
  gap: 1rem;
}

.site-brand {
  display: flex;
  flex-direction: row;     /* ê°€ë¡œ ë°°ì¹˜ */
  align-items: baseline;   /* ì œëª©ê³¼ by í…ìŠ¤íŠ¸ì˜ ê¸°ì¤€ì„  ë§ì¶”ê¸° */
  gap: 0.4rem;             /* ë‘˜ ì‚¬ì´ ì—¬ë°± */
}

.site-title {
  font-size: 1.35rem;
  font-weight: 700;
  letter-spacing: 0.03em;
}

.site-subtitle {
  font-size: 0.8rem;
  color: var(--text-muted);
}

/* ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
.top-nav {
  display: flex;
  gap: 0.6rem;
}

.nav-link {
  font-size: 0.9rem;
  text-decoration: none;
  color: var(--text-muted);
  padding: 0.3rem 0.8rem;
  border-radius: 999px;
  border: 1px solid transparent;
  transition: all 0.18s ease;
}

.nav-link:hover {
  color: var(--accent-green);
  border-color: rgba(158, 181, 160, 0.7);
  background-color: rgba(248, 242, 232, 0.9);
}

/* ========== ë°°ë„ˆ / íˆì–´ë¡œ ì˜ì—­ ========== */
.hero {
  position: relative;
  margin: 0;
  padding: 2.5rem 0 2.8rem;
  border-radius: 0;
  background: var(--bg-elevated); /* ë°ì€ ë² ì´ì§€ ë°°ê²½ */
  box-shadow: none;
  min-height: 220px;
  display: flex;
  align-items: center;
}

.hero-content {
  position: relative;
  padding: 2.4rem 1.8rem 2.6rem;
  display: flex;
  flex-direction: column;
  gap: 0.9rem;
  max-width: 620px;
}

/* íˆì–´ë¡œ í…ìŠ¤íŠ¸ë“¤ */
.hero-tagline {
  font-size: 0.82rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--accent-green);
  font-weight: 600;
}

.hero-title {
  font-size: 1.8rem;
  font-weight: 700;
}

.hero-text {
  font-size: 0.95rem;
  color: var(--text-muted);
}

.hero-button {
  align-self: flex-start;
  margin-top: 0.8rem;
  padding: 0.65rem 1.35rem;
  border-radius: 999px;
  border: none;
  background: linear-gradient(
    135deg,
    var(--accent-green),
    var(--accent-brown)
  );
  color: #fffcf7;
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 600;
  box-shadow: 0 10px 26px rgba(140, 165, 141, 0.45);
  transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
}

.hero-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 14px 34px rgba(140, 165, 141, 0.55);
  filter: brightness(1.03);
}

/* ========== ì„¹ì…˜ ê³µí†µ ========== */
.section-title {
  font-size: 1.4rem;
  margin-bottom: 0.4rem;
}

.section-description {
  font-size: 0.92rem;
  color: var(--text-muted);
  margin-bottom: 1.4rem;
}

/* ========== ìˆ˜í•™ ë¶„ë¥˜ ì¹´ë“œ ========== */
.categories {
  margin-bottom: 3rem;
}

.category-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1.1rem;
}

.category-card {
  background: linear-gradient(
    135deg,
    var(--bg-card),
    #f9f1e4
  );
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-subtle);
  padding: 1.1rem 1.2rem 1.1rem;
  box-shadow: 0 10px 26px rgba(189, 168, 141, 0.16);
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  position: relative;
  overflow: hidden;
}

/* ì¹´ë“œ ìœ„ì— ì•„ì£¼ ì€ì€í•œ ì´ˆë¡ë¹› í•˜ì´ë¼ì´íŠ¸ */
.category-card::before {
  content: "";
  position: absolute;
  inset: -40%;
  background: radial-gradient(
    circle at top right,
    rgba(164, 188, 164, 0.23),
    transparent 55%
  );
  opacity: 0;
  transition: opacity 0.18s ease;
}

.category-card:hover::before {
  opacity: 1;
}

.category-title {
  font-size: 1.05rem;
  font-weight: 600;
}

.category-subtitle {
  font-size: 0.82rem;
  color: var(--accent-green);
}

.category-body {
  font-size: 0.88rem;
  color: var(--text-muted);
  margin-top: 0.2rem;
}

/* ì¹´ë“œ ë²„íŠ¼ (ë‚˜ì¤‘ì— ê¸°ëŠ¥ ë¶™ì¼ ìë¦¬) */
.category-button {
  margin-top: 0.7rem;
  align-self: flex-start;
  font-size: 0.8rem;
  padding: 0.4rem 0.9rem;
  border-radius: 999px;
  border: 1px solid rgba(201, 183, 154, 0.9);
  background-color: #fbf5ea;
  color: var(--text-muted);
  cursor: default;
}

/* ========== ì†Œê°œ ì„¹ì…˜ ========== */
.about {
  margin-bottom: 3.5rem;
}

.about-inner {
  padding: 1.6rem 1.5rem 1.8rem;
  border-radius: 1.5rem;
  background: var(--bg-elevated);
  border: 1px solid var(--border-subtle);
  box-shadow: 0 12px 30px rgba(192, 170, 138, 0.3);
}

.about-text p + p {
  margin-top: 0.6rem;
}

/* ========== í‘¸í„° ========== */
.site-footer {
  border-top: 1px solid rgba(214, 199, 174, 0.9);
  padding: 1.2rem 0;
  background: #f1e5d6;
}

.footer-inner {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 0.4rem;
  font-size: 0.8rem;
  color: var(--text-muted);
}

.footer-meta {
  opacity: 0.9;
}

/* ========== ë°˜ì‘í˜• ì¡°ì • ========== */
@media (max-width: 720px) {
  .header-inner {
    flex-direction: column;
    align-items: flex-start;
  }

  .hero {
    margin-top: 1rem;
  }

  .hero-content {
    padding: 2rem 1.4rem 2.1rem;
  }

  .hero-title {
    font-size: 1.55rem;
  }
}

/* ========== í¥ë¯¸ë¡œìš´ ì´ì•¼ê¸° ì„¹ì…˜ ========== */
.stories {
  margin-bottom: 3rem;
}

.story-list {
  display: flex;
  flex-direction: column;   /* ë‚˜ì¤‘ì— ì—¬ëŸ¬ ê°œ ë„£ì—ˆì„ ë•Œ ì„¸ë¡œë¡œ ìŒ“ì´ê²Œ */
  gap: 0.7rem;
}

.story-item {
  width: 100%;
  padding: 0.9rem 1.2rem;
  border-radius: var(--radius-xl);
  background: linear-gradient(
    135deg,
    var(--bg-card),
    #f9f1e4
  );
  border: 1px solid var(--border-subtle);
  box-shadow: 0 10px 26px rgba(189, 168, 141, 0.16);
  display: flex;
  align-items: center;
  cursor: default;
  transition: all 0.18s ease;
}

.story-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(189, 168, 141, 0.26);
  background: linear-gradient(
    135deg,
    #f9f1e4,
    var(--bg-card)
  );
}

.story-title {
  font-size: 0.95rem;
  font-weight: 500;
  color: var(--text-main);
}

/* ================================
   ğŸŒ¿ íˆì–´ë¡œ ìœ„ì— ë“¤ì–´ê°€ëŠ” ë°°ë„ˆ ì´ë¯¸ì§€ (ì§ê° + 3:1 ë¹„ìœ¨)
   ================================ */

.top-banner {
  width: 100%;
  margin: 0;              /* ìƒë‹¨ë°”ì™€ ë”± ë¶™ê²Œ */
  padding: 0;
}

.banner-img {
  width: 100%;
  aspect-ratio: 3 / 1;     /* ë°°ë„ˆë¥¼ 3:1 ë¹„ìœ¨ë¡œ ì •í™•í•˜ê²Œ í‘œì‹œ */
  object-fit: cover;       /* ë°°ë„ˆê°€ ë„ˆë¬´ ì‘ê±°ë‚˜ ì»¤ë„ ë¹„ìœ¨ ìœ ì§€ í›„ ì˜ ë§ì¶¤ */
  display: block;          /* ì´ë¯¸ì§€ ì•„ë˜ ë¹ˆ ê³µë°± ì œê±° */
  border-radius: 0;        /* ë‘¥ê·¼ ëª¨ì„œë¦¬ ì œê±° (ì§ê°) */
}

/* ================================
   ğŸŒ³ Math Tree (ì •ëˆëœ ë“¤ì—¬ì“°ê¸° & ì»¤ìŠ¤í…€ í† ê¸€)
   ================================ */

.math-tree {
  margin-bottom: 3rem;
}

.math-tree-wrapper {
  background: var(--bg-elevated);
  border-radius: 1.3rem;
  border: 1px solid var(--border-subtle);
  box-shadow: 0 12px 32px rgba(192, 170, 138, 0.25);
  padding: 1.4rem 1.2rem 1.5rem;
}

/* ìµœìƒë‹¨ "Mathematics (ìˆ˜í•™ ì „ì²´)" í•œ ì¤„ */
.math-tree-root {
  font-size: 0.95rem;
  margin-bottom: 0.8rem;
}

.math-tree-root-sub {
  font-size: 0.85rem;
  color: var(--text-muted);
}

/* í•˜ìœ„ ë¶„ë¥˜ ì „ì²´ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë“¤ì—¬ì“°ê¸° */
.math-tree-group {
  margin-left: 0.6rem;
  padding-left: 1.2rem;
  border-left: 1.5px solid rgba(201, 183, 154, 0.9);
}

/* ê° ë¶„ì•¼ í† ê¸€(details) */
.math-toggle {
  margin: 0.25rem 0 0.3rem;
}

/* summary ê³µí†µ ìŠ¤íƒ€ì¼ */
.math-toggle > summary {
  list-style: none;              /* ê¸°ë³¸ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì œê±° */
  cursor: pointer;
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  gap: 0.4rem 0.6rem;
  padding: 0.4rem 0.7rem 0.4rem 1.5rem;  /* ì™¼ìª½ì„ ë„‰ë„‰íˆ ë„ì›€(ì•„ì´ì½˜ ìë¦¬) */
  border-radius: 0.7rem;
  background: #fbf4e7;
  border: 1px solid rgba(221, 207, 185, 0.9);
  position: relative;           /* ::before ì•„ì´ì½˜ ìœ„ì¹˜ ê¸°ì¤€ */
  transition: background-color 0.15s ease, box-shadow 0.15s ease,
    transform 0.1s ease;
}

/* ë¸Œë¼ìš°ì € ê¸°ë³¸ â–¸/â–¾ ë§ˆì»¤ ì™„ì „íˆ ì œê±° */
.math-toggle > summary::-webkit-details-marker {
  display: none;
}
.math-toggle > summary::marker {
  content: "";
}

/* ìš°ë¦¬ê°€ ì“°ëŠ” ê°€ì§œ í™”ì‚´í‘œ ì•„ì´ì½˜ */
.math-toggle > summary::before {
  content: "â–¸";
  position: absolute;
  left: 0.55rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.7rem;
  color: var(--accent-green);
}

/* ì—´ë ¸ì„ ë•ŒëŠ” ì•„ë˜ í™”ì‚´í‘œë¡œ ë³€ê²½ */
.math-toggle[open] > summary::before {
  content: "â–¾";
}

/* hover íš¨ê³¼ */
.math-toggle > summary:hover {
  background-color: #f6ecde;
  box-shadow: 0 4px 10px rgba(189, 168, 141, 0.25);
  transform: translateY(-1px);
}

/* ì œëª© + ë³´ì¡° ì„¤ëª… ê¸€ê¼´ */
.math-toggle-title {
  font-size: 0.93rem;
  font-weight: 600;
  color: var(--text-main);
}

.math-toggle-sub {
  font-size: 0.82rem;
  color: var(--text-muted);
}

/* í¼ì³ì¡Œì„ ë•Œ ë³¸ë¬¸ ì˜ì—­:
   summaryë³´ë‹¤ ë” ì˜¤ë¥¸ìª½(ì•„ì´ì½˜+ì œëª©ë³´ë‹¤ ìš°ì¸¡)ì—ì„œ ì‹œì‘ */
.math-toggle-body {
  padding: 0.35rem 0.4rem 0.6rem 2.1rem;
}

/* ë¦¬ìŠ¤íŠ¸ ë“¤ì—¬ì“°ê¸°/ê°„ê²©: ì²« ê¸€ìê°€ í•­ìƒ í™”ì‚´í‘œë³´ë‹¤ ì˜¤ë¥¸ìª½ */
.math-tree-list {
  margin: 0;
  padding-left: 1.1rem;   /* bulletê³¼ í…ìŠ¤íŠ¸ ê°„ê²© */
  list-style-type: disc;
}

.math-tree-list li {
  font-size: 0.86rem;
  color: var(--text-muted);
  margin: 0.12rem 0;
}

/* ì‘ì€ í™”ë©´ì—ì„œ ì‚´ì§ ì••ì¶• */
@media (max-width: 720px) {
  .math-tree-wrapper {
    padding: 1.1rem 1rem 1.3rem;
  }

  .math-tree-group {
    margin-left: 0.5rem;
    padding-left: 1rem;
  }

  .math-toggle-body {
    padding-left: 1.8rem;
  }
}

